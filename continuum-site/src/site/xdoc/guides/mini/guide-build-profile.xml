<document>
  <properties>
    <title>Continuum :: Build Profile</title>
    <author email="olamy@codehaus.org">Olivier Lamy</author>
  </properties>
  <body>
    <section name="Build Profile">
      <subsection name="Goal">
      <p>
        The main goal is to compile/test sources against the targeted jvm, mvn/maven version, ant version and to add defined envvar (MAVEN_OPTS, ANT_OPTS ...). <br />This is now possible at the build definition level (in 1.1).
      </p>
      <p>
        Use case : a solaris with a JAVA_HOME set to a jdk1.4 in the .profile user, a continuum instance running with JAVA_HOME defined in the starting script (<b>NOTE : 1.5 requirement to run continuum</b>), a project which need to be jdk1.4 compliant and some developpers which have ide with jdk1.5 (and fautly add 1.5 methods ;-) ). 
      </p>
      
      </subsection>
      <subsection name="Setup Profile/Installations">
        <p>
        Steps :
          <ul>
            <li><a href="#add-jdk-installation">adding the jdk in installations.</a></li>
            <li><a href="#create-profile">create a profile.</a></li>
            <li><a href="#set-profile-jdk">attached jdk to the new profile.</a></li>
            <li><a href="#set-builddef-profile">set profile in the build definition.</a></li>
          </ul>
        </p>
        <subsection name="Adding a jdk installation">
          <a name="add-jdk-installation"></a>
          <p>Here you must provide a JAVA_HOME path<br/></p>
          <p><img src="../../images/add-installation.png"/></p>
        </subsection>
        <subsection name="Creating a profile">
          <a name="create-profile"></a>
          <p>Enter a profile name (the name is free)<br/></p>
          <p><img src="../../images/add-profile.png"/></p>
        </subsection>       
        <subsection name="Attach jdk to a profile">
          <a name="set-profile-jdk"></a>
          <p>The list box contains all availables installations (jdk, mvn etc..). The installation's type is automatically recognized.<br/></p>
          <p>In the modification mode of a profile, adding an already attached type will override the existing one.</p>
          <p><img src="../../images/setup-jdk-profile.png"/></p>
        </subsection>      
        <subsection name="Link profile to build definition">
          <a name="set-builddef-profile"></a>
          <p>The list box contains all availables installations (jdk, mvn etc..). The installation's type is automatically recognized.<br/></p>
          <p>In the modification mode of a profile, adding an already attached type will override the existing one.</p>
          <p><img src="../../images/setup-build-profile.png"/></p>
        </subsection>           
      </subsection>
      <subsection name="Installations used in Notification mail">
        <p>Now the notification mail contains the following informations :
          <ul>
            <li>Java Home version : coming from $JAVA_HOME/bin/java -version.</li>
            <li>Builder version : coming from builder used version arg (mvn  used -v, ant use -version).</li>
          </ul>
          Sample :
          <source>
  Java Home version : 
          java version "1.4.2_06"
          Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_06-b03)
          Java HotSpot(TM) Client VM (build 1.4.2_06-b03, mixed mode)
        
  Builder version :
          Maven version: 2.0.5          
          </source>
        </p>
      </subsection>
    </section>
  </body>
</document>
